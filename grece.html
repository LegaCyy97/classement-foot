<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=800, user-scalable=yes">
    <title>SCORES GRÈCE | Saison 25-26</title>
    <style>
        @font-face {
            font-family: 'VarsityTeam';
            src: url('varsity-team.bold.otf') format('opentype');
            font-weight: bold;
        }

        body { 
            background-color: #000; 
            font-family: 'VarsityTeam', sans-serif; 
            color: white; 
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }

        /* Style du Titre Pays */
        .header-pays {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin-top: 30px;
            margin-bottom: 30px;
            width: 800px;
            max-width: 100%;
        }

        .header-pays img {
            width: 120px;
            height: auto;
            border: 3px solid white;
        }

        .header-pays h1 {
            font-size: 90px;
            margin: 0;
            color: white;
            text-shadow: 4px 4px 0 #000;
        }
        
        .classement-container { width: 800px; display: flex; flex-direction: column; gap: 0px; margin-bottom: 50px;}

        .ligne {
            display: flex; align-items: center;
            background-color: #1B8F38; 
            height: 70px; 
            border: 1px solid white;
            margin-bottom: -1px;
        }

        /* --- COULEURS DU TABLEAU --- */
        .top-tier { background-color: #12C4C2 !important; } /* 1-4 : Turquoise */
        .mid-tier { background-color: #006400 !important; } /* 5-8 : Vert Foncé (Conférence) */
        .bottom-tier { background-color: #C11B17 !important; } /* 9-14 : Rouge (Relégation) */

        .numero {
            width: 70px; text-align: center; font-size: 36px;
            height: 100%; display: flex; 
            align-items: center; justify-content: center;
            border-right: 2px solid white;
        }

        .logo-box {
            width: 70px; height: 100%;
            background: #000;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden; border-right: 2px solid white;
        }

        .logo-box img {
            width: 150%;
            transform: rotate(15deg);
            object-fit: contain;
        }

        .nom-club { 
            flex-grow: 1; padding-left: 8px; 
            font-size: 34px; 
            text-transform: uppercase;
            white-space: nowrap;
        }

        .stats {
            display: flex; width: 220px; 
            height: 100%;
            align-items: center; justify-content: space-around;
            font-size: 34px; border-left: 2px solid white;
        }
        .stats span { width: 33%; text-align: center; }

        .btn-retour {
            align-self: flex-start;
            margin: 20px;
            color: white;
            text-decoration: none;
            font-size: 20px;
            border: 1px solid white;
            padding: 5px 15px;
        }
    </style>
</head>
<body>

<a href="index.html" class="btn-retour">⬅ MENU</a>

<div class="header-pays">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Flag_of_Greece.svg/320px-Flag_of_Greece.svg.png">
    <h1>D1 GRÈCE</h1>
</div>

<div id="classement" class="classement-container"></div>

<script>
// --- CONFIGURATION ---
const googleSheetId = "1lyuhhsvXqX2m8GavZdviM01RTR_1jk4jHREHp_ihRs8"; // Ton ID
const ongletNom = "grece"; // Ton onglet

const url = `https://opensheet.elk.sh/${googleSheetId}/${ongletNom}`;

async function chargerClassement() {
    try {
        const response = await fetch(url);
        if (!response.ok) throw new Error("Erreur réseau");
        const data = await response.json();

        // Une fois les données reçues, on les trie par points
        data.sort((a, b) => {
            // Conversion en nombre pour être sûr
            const pointsA = parseInt(a.points) || 0;
            const pointsB = parseInt(b.points) || 0;

            if (pointsB !== pointsA) {
                return pointsB - pointsA;
            } else {
                return 0; // Si égalité, garde l'ordre du fichier Excel
            }
        });

        renderClassement(data);
    } catch (error) {
        console.error("Erreur de chargement :", error);
        document.getElementById('classement').innerHTML = "<div style='text-align:center; margin-top:20px; font-size:24px;'>Erreur : Vérifie que le Google Sheet est bien en 'Public'</div>";
    }
}

function renderClassement(equipes) {
    const container = document.getElementById('classement');
    container.innerHTML = ''; 

    equipes.forEach((team, index) => {
        const rang = index + 1;
        let specialClass = '';

        // --- RÈGLES COULEURS GRÈCE ---
        if (rang <= 4) {
            specialClass = 'top-tier';
        } else if (rang <= 8) {
            specialClass = 'mid-tier';
        } else {
            specialClass = 'bottom-tier';
        }

        container.innerHTML += `
            <div class="ligne ${specialClass}">
                <div class="numero">${rang}</div>
                <div class="logo-box"><img src="${team.logo}" onerror="this.src='https://via.placeholder.com/50'"></div>
                <div class="nom-club">${team.name}</div>
                <div class="stats">
                    <span>${team.played}</span>
                    <span>${parseInt(team.gd) > 0 ? '+' + parseInt(team.gd) : parseInt(team.gd)}</span>
                    <span>${team.points}</span>
                </div>
            </div>
        `;
    });
}

// On lance le chargement
chargerClassement();
</script>
</body>
</html>
